<div class="container">

    <div class="card my-4">

        <div class="card-header">
            {{ tittle }}
          </div>

        <div class="card-body">

            <div class="row">
                <div class="col-10 offset-1">
                    <label for="">Requirements:
                    </label>

                    <ul>
                        <li>
                            The max terms (weeks) were the payment can be paid is 52, the minimum should be 4.
                        </li>
                        <li>
                            The rate should bigger than 1%, lesser than 100%.
                        </li>
                        <li>
                            The amount should be more than $1.00, the max should be lesser than $999,999.00
                        </li>
                    </ul>

                </div>
            </div>

            <form [formGroup]="paymentForm" (ngSubmit)="onSubmit()">
            <div class="row">
                <div class="col-8 offset-2">
                    <div class="input-group mb-3">
                        <span class="input-group-text">$</span>
                        <input type="text" class="form-control" aria-label="Amount (to the nearest dollar)"
                            placeholder="Amount" formControlName="amount">
                       <!-- <span class="input-group-text">.00</span>-->
                      </div>
                </div>
            </div>

            <div class="row">
                <div class="col-8 offset-2">
                    <div class="input-group mb-3">
                        
                        <input type="number" class="form-control"
                            min="4" max="52" placeholder="Terms"
                            formControlName="terms">
                       <!-- <span class="input-group-text">.00</span>-->
                      </div>
                </div>
            </div>

            <div class="row">
                <div class="col-8 offset-2">
                    <div class="input-group mb-3">
                        <input type="number" class="form-control"
                            min="2" max="99" placeholder="Rate"
                            formControlName="rate">
                       <!-- <span class="input-group-text">.00</span>-->
                      </div>
                </div>
            </div>

            <div class="row">
                <div class="col-8 offset-2">
                    <div class="alert alert-danger" role="alert"
                            *ngIf="requiredFlag == true">
                                Required fields
                    </div>

                    <div class="alert alert-danger" role="alert"
                            *ngIf="requirementsFlag">
                                Incorrect requirements
                    </div>

                </div>
            </div>
            <div class="row">
                <div class="col-6" align="right">
                    <button type="submit" class="btn btn-primary" 
                            
                    >Calculate</button>
                </div>

                <div class="col-6">
                    <button type="button" class="btn btn-success" 
                            (click)="clear()"
                    >Clear</button>
                </div>

            </div>

        </form>
        </div>
      </div>

      <div class="row" *ngIf="payments?.length > 0">
        <div class="col-10 offset-1">

            <table class="table table-striped table-hover">
                <thead>
                    <tr>
                      <th scope="col">#</th>
                      <th scope="col">Payment amount</th>
                      <th scope="col">Pending amount</th>
                      <th scope="col">Payment date</th>
                    </tr>
                  </thead>
                  <tbody *ngFor="let item of payments">
                    <tr>
                      <td> {{ item.payment_number }} </td>
                      <td> {{ item.payment_amount | currency }} </td>
                      <td> {{ item.pending_amount | currency }} </td>
                      <td> {{ item.payment_date }} </td>
                    </tr>
                  </tbody>    
            </table>
        </div>

    </div>
    
</div>
